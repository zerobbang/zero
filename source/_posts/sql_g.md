---
title: SQL 계층형 쿼리
date : "2022-04-29"
categories:
- [Sql]
tags:
- [Sql]
---


### 계층형 쿼리란 ?

한 테이블에 담겨 있는 데이터들이 서로 상하 관계를 이루려 존재할 때를 말한다.  

회사 조직도를 예로 살펴보면 사장 및에 부장, 부장 밑에 과장, 대리가 있고 이는 부서별로 각각 존재한다.  

이 중 경영 부서 안에 회계팀, 인사팀, 재무 1팀, 재무 2팀이 있다고 하면 여기서 부모는 경영부, 자식은 회계팀, 인사팀, 재무 1팀, 재무 2팀이 해당된다.  

  

- 계층형 쿼리를 작성 할 때는 다음 절을 이용한다.
    
    -- START WITH ~ CONNECT BY  
    -- START WITH : 부모를 지정한다.  
    -- CONNECT BY : 부모와 자식의 관계 규정한다. PRIOR 연산자를 이용해서 표현한다.  
    

  

- CONNECT BY PRIOR 자식 컬럼 = 부모 컬럼 : 부모에서 자식으로 트리 구성 (하향식 구조 TOP DOWN)
- CONNECT BY PRIOR 부모 컬럼 = 자식 컬럼 : 자식에서 부모로 트리 구성 (상향식 구조 BOTTOM UP)
- CONNECT BY NOCYCLE PRIOR : 무한 루프 방지

---
**_<span style="color:#4682B4;"> 이 블로그는 혼자 공부하며 기록하는 블로그로 잘못된 정보에 대한 의견은 격하게 환영합니다.🤩 </span>_**